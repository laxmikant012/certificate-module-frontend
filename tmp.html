<html>
    <body>
        <form class="form-inline" method="post" id="formElem" style="padding: 12%;">
            <input type="date" name="completion_date" class="form-control" id="1"  required> 
            <input type="string" name="issued_by" class="form-control" id="2" required> 
            <input type="string" name="designation" class="form-control" id="3" required>
            <input class="form-control" name="file" type="file" id="formFile" required>

            <button type="submit" class="btn btn-primary btn-sm" id="submit">Upload CSV</button>&nbsp &nbsp
        </form>

        
    </body>
    <script>
        var myHeaders = new Headers();
        formElem.onsubmit = async (e) => {
        e.preventDefault();
        let response = await fetch('http://localhost:8000/admin/upload_csv', {
          method: 'POST',
          body: new FormData(formElem),
          headers:myHeaders
        });
    
        let result = await response.json();
        if (result == true ){
            alert("Done");
        }
        else{
            console.log(result);
            alert(result["detail"]);
        }
        
    };
    </script>

    
</html>


